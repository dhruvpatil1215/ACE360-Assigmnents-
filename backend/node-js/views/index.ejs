<!-- Dashboard -->
<div class="row mb-4">
    <div class="col-12">
        <h1 class="display-6 fw-bold text-primary">
            <i class="bi bi-speedometer2 me-2"></i>Dashboard
        </h1>
        <p class="text-muted">Welcome to the Office Management System</p>
    </div>
</div>

<!-- Statistics Cards -->
<div class="row g-4 mb-5">
    <div class="col-md-6">
        <div class="card border-0 shadow-sm h-100 bg-gradient-primary">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0">
                        <div class="stats-icon bg-primary bg-opacity-10 text-primary rounded-circle p-3">
                            <i class="bi bi-diagram-3 fs-2"></i>
                        </div>
                    </div>
                    <div class="flex-grow-1 ms-4">
                        <h2 class="display-5 fw-bold mb-0">
                            <%= stats.departments %>
                        </h2>
                        <p class="text-muted mb-0">Total Departments</p>
                    </div>
                </div>
                <a href="/departments" class="stretched-link"></a>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0">
                        <div class="stats-icon bg-success bg-opacity-10 text-success rounded-circle p-3">
                            <i class="bi bi-people fs-2"></i>
                        </div>
                    </div>
                    <div class="flex-grow-1 ms-4">
                        <h2 class="display-5 fw-bold mb-0">
                            <%= stats.employees %>
                        </h2>
                        <p class="text-muted mb-0">Total Employees</p>
                    </div>
                </div>
                <a href="/employees" class="stretched-link"></a>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="row mb-4">
    <div class="col-12">
        <h4 class="fw-bold"><i class="bi bi-lightning-charge me-2"></i>Quick Actions</h4>
    </div>
</div>
<div class="row g-3 mb-5">
    <div class="col-md-3">
        <a href="/departments/create" class="btn btn-outline-primary w-100 py-3">
            <i class="bi bi-plus-circle me-2"></i>Add Department
        </a>
    </div>
    <div class="col-md-3">
        <a href="/employees/create" class="btn btn-outline-success w-100 py-3">
            <i class="bi bi-person-plus me-2"></i>Add Employee
        </a>
    </div>
    <div class="col-md-3">
        <a href="/departments" class="btn btn-outline-info w-100 py-3">
            <i class="bi bi-list-ul me-2"></i>View Departments
        </a>
    </div>
    <div class="col-md-3">
        <a href="/employees" class="btn btn-outline-secondary w-100 py-3">
            <i class="bi bi-people me-2"></i>View Employees
        </a>
    </div>
</div>

<!-- Recent Employees -->
<div class="row">
    <div class="col-12">
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white py-3">
                <h5 class="mb-0 fw-bold"><i class="bi bi-clock-history me-2"></i>Recent Employees</h5>
            </div>
            <div class="card-body p-0">
                <% if (recentEmployees.length> 0) { %>
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Department</th>
                                    <th>Job Title</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% recentEmployees.forEach(emp=> { %>
                                    <tr>
                                        <td>
                                            <i class="bi bi-person-circle me-2 text-muted"></i>
                                            <%= emp.fullName %>
                                        </td>
                                        <td>
                                            <%= emp.email %>
                                        </td>
                                        <td>
                                            <span class="badge bg-primary">
                                                <%= emp.department?.name || 'N/A' %>
                                            </span>
                                        </td>
                                        <td>
                                            <%= emp.jobTitle %>
                                        </td>
                                        <td>
                                            <a href="/employees/<%= emp._id %>" class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <% }) %>
                            </tbody>
                        </table>
                    </div>
                    <% } else { %>
                        <div class="text-center py-5">
                            <i class="bi bi-inbox text-muted fs-1"></i>
                            <p class="text-muted mt-2">No employees yet. <a href="/employees/create">Add your first
                                    employee</a></p>
                        </div>
                        <% } %>
            </div>
        </div>
    </div>
</div>